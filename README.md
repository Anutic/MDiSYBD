# MDiSYBD
ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ К ПРОЕКТУ

В системе будет представлены 2 роли: обычный пользователь и администратор.

Возможности покупателя
1.	Авторизация и регистрация в системе 
•	Регистрация нового пользователя с указанием личных данных.
•	Вход в систему с использованием логина и пароля.
•	Восстановление пароля при его утере.
2.	Поиск и фильтрация изделий
•	Поиск по названию: Вводите название десерта для быстрого доступа.
•	Поиск по виду изделия: Указание вида изделия для просмотра всех изделий данного типа
•	Фильтрация по цене
3.	Просмотр информации о кондитерах
•	Доступ к биографии кондитеров.
•	Просмотр списка изделий, в которых участвовал кондитер
4.	Оформление заказов
•	Выбор и добавление товаров в корзину с указанием количества.
•	Подтверждение покупки и получение электронного чека.
•	Применение промокода при оформлении заказа.
5.	Оценки и отзывы
•	 Возможность оставлять отзывы и оценки на купленные товары.
•	 Чтение отзывов других покупателей о товарах.

Возможности сотрудника коммерческого отдела
1.	Авторизация в системе
•	Вход в административную панель с использованием административных учетных данных.
2.	Управление данными
•	Просмотр, редактирование и удаление учетных записей покупателей и сотрудников.
•	Блокировка учетных записей при нарушении политики магазина.
•	Обновление информации о кондитеров, изделиях, отзывах и скидок.
3.	CRUD-операции с категориями товаров и видами изделий
•	Создание новых категорий товаров и видов изделий.
•	Редактирование и удаление существующих категорий и товаров.
4.	Журналирование действий пользователей
•	Просмотр истории действий покупателей и для контроля активности в системе.
5.	Статистические отчеты
•	Генерация отчетов по продажам, активности пользователей и т.д.

ОПИСАНИЕ СУЩНОСТЕЙ

Описание полей сущностей БД

1. Users (Пользователи)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор пользователя. Автоматически увеличивается при добавлении нового пользователя.

•	username: VARCHAR(50), NOT NULL, UNIQUE
Уникальное имя пользователя, до 50 символов. Не может быть пустым и должно быть уникальным.

•	password: VARCHAR(255), NOT NULL
Хэшированный пароль пользователя. Не может быть пустым

•	email: VARCHAR(100), NOT NULL, UNIQUE
Уникальный адрес электронной почты. Не может быть пустым и должно быть уникальным.

•	role_id: INT, FK (Roles)
Ссылка на роль пользователя (таблица Roles). Позволяет разграничивать доступ к функционалу.
________________________________________
2. Roles (Роли)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор роли. Автоматически увеличивается при добавлении новой роли.

•	role_name: VARCHAR(50), NOT NULL, UNIQUE
Название роли. Не может быть пустым и должно быть уникальным.
________________________________________
3. Products (Изделия)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор продукта. Автоматически увеличивается при добавлении нового продукта.

•	name: VARCHAR(100), NOT NULL
Название изделия, до 100 символов. Не может быть пустым.

•	description: TEXT
Описание изделия. Содержит текст произвольной длины
 
•	price: DECIMAL(10, 2), NOT NULL
Цена изделия. Не может быть пустым.

•	unit: ENUM('pcs', 'kg', 'l'), NOT NULL
Единица измерения изделия (штуки, килограммы, литры). Не может быть пустым.

•	type_id: INT, FK (Product_Types)
Ссылка на вид изделия (ссылается на таблицу Genres).
________________________________________
4. Product_Types (Виды изделий)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор вида изделия. Автоматически увеличивается при добавлении нового вида.

•	type_name: VARCHAR(50), NOT NULL, UNIQUE
Название вида изделия (например, "торт", "печенье"), до 50 символов. Не может быть пустым и должно быть уникальным.
________________________________________
5. Reviews (Отзывы)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор отзыва. Автоматически увеличивается при добавлении нового отзыва.

•	user_id: INT, FK (Users)
Идентификатор пользователя, который оставил отзыв, ссылается на таблицу Users.

•	product_id: INT, FK (Products)
Идентификатор изделия, на который оставлен отзыв, ссылается на таблицу Products.

•	rating: INT, CHECK (rating BETWEEN 1 AND 5)
Оценка изделия пользователем. Должна быть в диапазоне от 1 до 5.

•	comment: TEXT
Текст отзыва. Может содержать текст произвольной длины.
________________________________________

6. Orders (Заказы)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор заказа. Автоматически увеличивается при добавлении нового заказа.

•	client_id: INT, FK (Users)
Ссылка на клиента, который сделал заказ, ссылается на таблицу Users.

•	order_date: DATETIME, NOT NULL
Дата оформления заказа. Не может быть пустым.

•	delivery_date: DATETIME
Дата доставки.

•	total_price: DECIMAL(10, 2), NOT NULL
Общая сумма заказа. Не может быть пустым.

•	promotion_id: INT, FK (Promotions)
Ссылка на использованный промокод (если применен).

•	pickup_point_id: INT, FK(Pickup_Points)
ссылка на пункт выдачи

________________________________________

7. Order_Items (Позиции в заказах)
• order_id: INT, FK (Orders)
  Ссылка на заказ, к которому относится данная позиция, ссылается на         таблицу Orders.

• product_id: INT, FK (Products)
  Ссылка на изделие, которое было добавлено в заказ.

• quantity: INT, NOT NULL
  Количество изделий в данной позиции заказа.

• price_per_unit: DECIMAL(10, 2), NOT NULL
   Цена за единицу изделия в момент оформления заказа.
________________________________________
8.Pickup_Points (Точки самовывоза)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор точки самовывоза. Автоматически увеличивается при добавлении нового заказа.

•	address: VARCHAR(255), NOT NULL
Адрес точки самовывоза. Не может быть пустым.

•	working_hours: VARCHAR(100), NOT NULL
Время работы точки самовывоза. Не может быть пустым.
________________________________________
9.Confectioners (Кондитеры)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор кондитера. Автоматически увеличивается при добавлении нового клиента.

•	name: VARCHAR(100), NOT NULL
Имя кондитера. Не может быть пустым.

•	description: TEXT
Описание кондитера. Содержит текст произвольной длины

•	phone: VARCHAR(15), NOT NULL
Номер телефона клиента. Не может быть пустым.

•	product_id: INT, FK (Products)
  Ссылка на изделие, которое было сделано кондитером.
________________________________________
10. Promotions (Акции и скидки)
•	id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор акции или скидки. Автоматически увеличивается при добавлении новой скидки.

•	promo_code: VARCHAR(50), NOT NULL, UNIQUE
Уникальный промокод, который покупатели могут использовать для получения скидки. Не может быть пустым и должен быть уникальным.

•	description: TEXT
Описание акции или скидки, что она предлагает.

•	discount_percentage: DECIMAL(5, 2), NOT NULL
Процент скидки, который применяется при использовании промокода. Не может быть пустым.

•	is_active: BOOLEAN, DEFAULT TRUE
Флаг, указывающий, активен ли промокод.
________________________________________


11.Confectioner_Products (Продукты кондитера)
•	confectioner_id: INT, FK (Confectioners) Ссылка на кондитера, который создаёт продукт.
•	product_id: INT, FK (Products) Ссылка на продукт, созданный кондитером.
________________________________________
12. Logs (Журнал действий)
•  id: INT, PK, AUTO_INCREMENT
Уникальный идентификатор записи в журнале. Автоматически увеличивается при добавлении новой записи.
•  user_id: INT, FK (Users)
Идентификатор пользователя, чьи действия зафиксированы, ссылается на таблицу Users.
•  action: VARCHAR(255)
Описание действия пользователя, ограниченное 255 символами.
•  timestamp: DATETIME
Дата и время, когда произошло действие.
________________________________________
1. Users (Пользователи)
•	Связь с Roles: Один ко многим. Один пользователь может иметь только одну роль, но одна роль может быть у многих пользователей.
•	Связь с Reviews: Один ко многим. Один пользователь может оставить множество отзывов, но каждый отзыв принадлежит только одному пользователю.
•	Связь с Orders: Один ко многим. Один пользователь может создать множество заказов, но каждый заказ принадлежит одному пользователю.
•	Связь с Logs: Один ко многим. Один пользователь может иметь множество записей в журнале действий.
2. Roles (Роли)
•	Связь с Users: Один ко многим. Одна роль может быть у многих пользователей, но каждый пользователь может иметь только одну роль.
3. Products (Изделия)
•	Связь с Product_Types: Один ко многим. Один тип изделия может включать множество продуктов, но каждый продукт принадлежит только одному типу.
•	Связь с Reviews: Один ко многим. Один продукт может иметь множество отзывов, но каждый отзыв связан с одним продуктом.
•	Связь с Order_Items: Один ко многим. Один продукт может быть в нескольких позициях разных заказов, но каждая позиция связана только с одним продуктом.
•	Связь с Confectioner_Products: Многие ко многим. Один продукт может быть создан несколькими кондитерами, и один кондитер может создавать несколько продуктов.
4. Product_Types (Виды изделий)
•	Связь с Products: Один ко многим. Один вид изделия может включать множество продуктов, но каждый продукт принадлежит только одному виду.
5. Reviews (Отзывы)
•	Связь с Users: Многие к одному. Каждый отзыв принадлежит одному пользователю.
•	Связь с Products: Многие к одному. Каждый отзыв относится к одному продукту.
6. Orders (Заказы)
•	Связь с Users: Многие к одному. Один пользователь может сделать несколько заказов, но каждый заказ принадлежит одному пользователю.
•	Связь с Order_Items: Один ко многим. Один заказ может включать несколько позиций товаров, но каждая позиция принадлежит одному заказу.
•	Связь с Promotions: Многие к одному. Каждый заказ может иметь один промокод, но один промокод может быть использован во множестве заказов.
•	Связь с Pickup_Points: Многие к одному. Один заказ может быть связан только с одной точкой самовывоза, но одна точка самовывоза может быть выбрана в нескольких заказах.

7. Order_Items (Позиции в заказах)
•	Связь с Orders: Многие к одному. Каждая позиция в заказе относится к одному заказу.
•	Связь с Products: Многие к одному. Каждая позиция в заказе содержит информацию о количестве конкретного изделия.
8. Pickup_Points (Точки самовывоза)
•	Связь с Orders: Один ко многим. Один пункт выдачи может быть связан с несколькими заказами, но один заказ не может быть связан с несколькими пунктами самовывоза.

9. Confectioners (Кондитеры)
•	Связь с Confectioner_Products
 Один ко многим. Один кондитер может быть связан с несколькими продуктами, но каждый продукт связан с одним или несколькими кондитерами через промежуточную таблицу Confectioner_Products.
10. Confectioner_Products (Продукты кондитера)
•	Связь с Confectioners: Многие к одному. Один продукт может быть создан несколькими кондитерами, но каждая запись в этой таблице относится к одному кондитеру.
•	Связь с Products: Многие к одному. Каждый продукт может быть связан с несколькими кондитерами, но каждая запись относится к одному продукту.
11. Promotions (Акции и скидки)
•	Связь с Orders: Один ко многим. Один промокод может быть использован в нескольких заказах, но каждый заказ может использовать только один промокод.
12. Logs (Журнал действий)
•	Связь с Users: Многие к одному. Каждая запись в журнале относится к одному пользователю, но один пользователь может иметь множество записей в журнале.
 ![image](https://github.com/user-attachments/assets/e4eedfd2-76b4-425b-ae0a-b7f1cb3fc852)

